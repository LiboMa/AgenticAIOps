# AIOpsLab & mABC è®ºæ–‡æ·±åº¦åˆ†æ

## ç›®çš„
ä¸º AgenticAIOps é¡¹ç›®æå–å¯å€Ÿé‰´çš„è®¾è®¡æ¨¡å¼å’Œæœ€ä½³å®è·µ

---

## ä¸€ã€AIOpsLab æ¡†æ¶åˆ†æ

### 1.1 æ ¸å¿ƒæ¦‚å¿µ: AgentOps

**å®šä¹‰**: AI Agent è‡ªä¸»ç®¡ç†æ•´ä¸ªäº‹ä»¶ç”Ÿå‘½å‘¨æœŸï¼Œå®ç°è‡ªæ„ˆäº‘ç³»ç»Ÿ

```
ä¼ ç»Ÿ AIOps: è§£å†³å­¤ç«‹çš„è¿ç»´ä»»åŠ¡
    â†“
AgentOps: ç«¯åˆ°ç«¯å¤šä»»åŠ¡è‡ªåŠ¨åŒ– â†’ è‡ªæ„ˆäº‘ç³»ç»Ÿ
```

### 1.2 ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        AIOpsLab Framework                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    Orchestrator (æ ¸å¿ƒ)                       â”‚   â”‚
â”‚  â”‚         Agent-Cloud Interface (ACI) ç»Ÿä¸€æ¥å£                 â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚           â”‚              â”‚              â”‚              â”‚            â”‚
â”‚           â–¼              â–¼              â–¼              â–¼            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Application  â”‚ â”‚    Fault     â”‚ â”‚   Workload   â”‚ â”‚ Telemetryâ”‚   â”‚
â”‚  â”‚   Deployer   â”‚ â”‚  Injector    â”‚ â”‚  Generator   â”‚ â”‚ Observer â”‚   â”‚
â”‚  â”‚              â”‚ â”‚              â”‚ â”‚              â”‚ â”‚          â”‚   â”‚
â”‚  â”‚ DeathStar-   â”‚ â”‚ ChaosMesh    â”‚ â”‚ wrk/locust   â”‚ â”‚Prometheusâ”‚   â”‚
â”‚  â”‚ Bench        â”‚ â”‚ ChaosBlade   â”‚ â”‚              â”‚ â”‚ Jaeger   â”‚   â”‚
â”‚  â”‚              â”‚ â”‚              â”‚ â”‚              â”‚ â”‚ Filebeat â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.3 å…³é”®ç»„ä»¶

#### Agent-Cloud Interface (ACI)
**æ ¸å¿ƒ API**:
```python
# é¥æµ‹æ•°æ®è·å–
get_logs(namespace, duration)      # è·å–æ—¥å¿—
get_metrics(namespace, duration)   # è·å–æŒ‡æ ‡
get_traces(namespace, duration)    # è·å–é“¾è·¯è¿½è¸ª

# æ‰§è¡Œæ“ä½œ
exec_shell(command)                # æ‰§è¡Œ shell å‘½ä»¤ (å®‰å…¨è¿‡æ»¤)
```

#### Problem å®šä¹‰
```python
# é—®é¢˜å®šä¹‰ä¸‰å…ƒç»„
P = âŸ¨T, C, SâŸ©
# T = Task (ä»»åŠ¡ç±»å‹)
# C = Context (ä¸Šä¸‹æ–‡ç¯å¢ƒ)
# S = Solution (é¢„æœŸè§£å†³æ–¹æ¡ˆ)
```

#### Task åˆ†ç±»
| Task | æè¿° | è¯„ä¼°æŒ‡æ ‡ |
|------|------|---------|
| Detection | æ£€æµ‹æ•…éšœ | TTD (Time-to-Detect) |
| Localization | å®šä½æ•…éšœ | TTL (Time-to-Localize) |
| Analysis | æ ¹å› åˆ†æ | Accuracy |
| Mitigation | æ•…éšœä¿®å¤ | TTM (Time-to-Mitigate) |

### 1.4 ä»£ç ç¤ºä¾‹

```python
from aiopslab import LocalizationTask, SocialNetwork
from aiopslab import Wrk, VirtFaultInjector

class K8STargetPortMisconf(LocalizationTask):
    def __init__(self):
        self.app = SocialNetwork()
        self.ans = "user-service"
    
    def start_workload(self):
        wrk = Wrk(rate=100, duration=10)
        wrk.start_workload(url=self.app.frontend_url)
    
    def inject_fault(self):
        inj = VirtFaultInjector(self.app.ns)
        inj.inject([self.ans], "misconfig_k8s")
    
    def eval(self, soln, trace, duration):
        res = {}
        res["TTL"] = duration
        res["success"] = is_exact_match(soln, self.ans)
        return res
```

---

## äºŒã€mABC æ¡†æ¶åˆ†æ

### 2.1 æ ¸å¿ƒæ¦‚å¿µ: åŒºå—é“¾å¯å‘çš„å¤šAgentåä½œ

**é—®é¢˜**: å¾®æœåŠ¡æ¶æ„ä¸­æ•…éšœä¼ æ’­å’Œå¾ªç¯ä¾èµ–å¯¼è‡´æ ¹å› åˆ†æå›°éš¾

**è§£å†³æ–¹æ¡ˆ**: 7 ä¸ªä¸“ä¸š Agent + åŒºå—é“¾æŠ•ç¥¨æœºåˆ¶

### 2.2 ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        mABC Framework                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  Step 1: Alert Event                                                 â”‚
â”‚      â”‚                                                               â”‚
â”‚      â–¼                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğ’œâ‚ Alert Receiver - å‘Šè­¦æ¥æ”¶å™¨ï¼Œä¼˜å…ˆçº§é€‰æ‹©                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚      â”‚                                                               â”‚
â”‚      â–¼                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğ’œâ‚‚ Process Scheduler - æµç¨‹è°ƒåº¦å™¨ï¼Œä»»åŠ¡åˆ†è§£                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚      â”‚                                                               â”‚
â”‚      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚      â–¼             â–¼             â–¼             â–¼                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚ ğ’œâ‚ƒ     â”‚  â”‚ ğ’œâ‚„     â”‚  â”‚ ğ’œâ‚…     â”‚  â”‚ ğ’œâ‚†     â”‚                    â”‚
â”‚  â”‚ Data   â”‚  â”‚Depend- â”‚  â”‚Probab- â”‚  â”‚ Fault  â”‚                    â”‚
â”‚  â”‚Detectiveâ”‚  â”‚ ency   â”‚  â”‚ ility  â”‚  â”‚ Mapper â”‚                    â”‚
â”‚  â”‚æ•°æ®ä¾¦æ¢ â”‚  â”‚Explorerâ”‚  â”‚ Oracle â”‚  â”‚æ•…éšœæ˜ å°„ â”‚                    â”‚
â”‚  â”‚        â”‚  â”‚ä¾èµ–æ¢ç´¢ â”‚  â”‚æ¦‚ç‡é¢„è¨€ â”‚  â”‚        â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚      â”‚             â”‚             â”‚             â”‚                    â”‚
â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                          â”‚                                           â”‚
â”‚                          â–¼                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚         Blockchain-Inspired Voting (åŒºå—é“¾æŠ•ç¥¨)              â”‚   â”‚
â”‚  â”‚         è€ƒè™‘ Contribution Index + Expertise Index            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                          â”‚                                           â”‚
â”‚                          â–¼                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğ’œâ‚‡ Solution Engineer - è§£å†³æ–¹æ¡ˆå·¥ç¨‹å¸ˆ                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.3 ä¸ƒä¸ªä¸“ä¸š Agent

| Agent | åç§° | èŒè´£ |
|-------|------|------|
| ğ’œâ‚ | Alert Receiver | å‘Šè­¦æ¥æ”¶ï¼Œä¼˜å…ˆçº§æ’åº |
| ğ’œâ‚‚ | Process Scheduler | æµç¨‹è°ƒåº¦ï¼Œä»»åŠ¡åˆ†è§£ |
| ğ’œâ‚ƒ | Data Detective | æ•°æ®åˆ†æï¼Œæ—¥å¿—/æŒ‡æ ‡æ£€æŸ¥ |
| ğ’œâ‚„ | Dependency Explorer | ä¾èµ–å…³ç³»æ¢ç´¢ |
| ğ’œâ‚… | Probability Oracle | æ¦‚ç‡è®¡ç®—ï¼Œå¯èƒ½æ€§è¯„ä¼° |
| ğ’œâ‚† | Fault Mapper | æ•…éšœæ˜ å°„ï¼Œå®šä½æ ¹å›  |
| ğ’œâ‚‡ | Solution Engineer | åˆ¶å®šè§£å†³æ–¹æ¡ˆ |

### 2.4 åŒºå—é“¾æŠ•ç¥¨æœºåˆ¶

```python
# æŠ•ç¥¨æƒé‡è®¡ç®—
Weight(Agent_i) = Î± * Contribution_Index + Î² * Expertise_Index

# Contribution Index: å†å²è´¡çŒ®åº¦
# Expertise Index: ä¸“ä¸šé¢†åŸŸåŒ¹é…åº¦

# æœ€ç»ˆå†³ç­–
Final_Decision = argmax(âˆ‘ Weight_i * Vote_i)
```

**ä¼˜åŠ¿**:
1. **å»ä¸­å¿ƒåŒ–** - é¿å…å•ç‚¹æ•…éšœ
2. **é€æ˜å…¬æ­£** - æ¯ä¸ª Agent å¹³ç­‰å‚ä¸
3. **å‡å°‘å¹»è§‰** - å¤š Agent äº¤å‰éªŒè¯

---

## ä¸‰ã€AgenticAIOps å¯å€Ÿé‰´çš„è®¾è®¡æ¨¡å¼

### 3.1 æ¶æ„å€Ÿé‰´

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    AgenticAIOps å»ºè®®æ¶æ„                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              Orchestrator (from AIOpsLab)                    â”‚   â”‚
â”‚  â”‚         ç»Ÿä¸€åè°ƒ + Agent-Cloud Interface                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                          â”‚                                           â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚     â”‚                    â”‚                    â”‚                     â”‚
â”‚     â–¼                    â–¼                    â–¼                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚Architectâ”‚       â”‚Developerâ”‚          â”‚ Tester â”‚                  â”‚
â”‚  â”‚(è®¾è®¡)   â”‚       â”‚(å®ç°)   â”‚          â”‚(æµ‹è¯•)  â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚     â”‚                    â”‚                    â”‚                     â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚                          â”‚                                           â”‚
â”‚                          â–¼                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚       Blockchain-Inspired Voting (from mABC)                 â”‚   â”‚
â”‚  â”‚              å¤š Agent æŠ•ç¥¨å†³ç­–                                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                          â”‚                                           â”‚
â”‚                          â–¼                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                   Reviewer (æœ€ç»ˆè¯„å®¡)                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 å…·ä½“å€Ÿé‰´ç‚¹

#### From AIOpsLab:

| åŠŸèƒ½ | å€Ÿé‰´å†…å®¹ | å®ç°å»ºè®® |
|-----|---------|---------|
| **Agent-Cloud Interface** | ç»Ÿä¸€çš„ Agent äº¤äº’æ¥å£ | å®šä¹‰æ ‡å‡† API for tools |
| **Problem Definition** | P=âŸ¨T,C,SâŸ© ä¸‰å…ƒç»„ | ä»»åŠ¡æ ‡å‡†åŒ–å®šä¹‰ |
| **Orchestrator** | ä¸­å¤®åè°ƒå™¨ | Orchestrator Agent |
| **Telemetry Observer** | é¥æµ‹æ•°æ®æ”¶é›† | é›†æˆ Prometheus + Jaeger |
| **Fault Injection** | æ··æ²Œå·¥ç¨‹ | é›†æˆ ChaosMesh |

#### From mABC:

| åŠŸèƒ½ | å€Ÿé‰´å†…å®¹ | å®ç°å»ºè®® |
|-----|---------|---------|
| **ä¸“ä¸š Agent** | 7 ä¸ªè§’è‰²åˆ†å·¥ | 5 Agent (Orch/Arch/Dev/Test/Review) |
| **Voting æœºåˆ¶** | åŒºå—é“¾æŠ•ç¥¨ | 3 è½®æŠ•ç¥¨å†³ç­–æµç¨‹ |
| **Contribution Index** | è´¡çŒ®åº¦è®¡ç®— | å†å²ä»»åŠ¡å®Œæˆåº¦ |
| **Expertise Index** | ä¸“ä¸šåº¦åŒ¹é… | è§’è‰²-ä»»åŠ¡åŒ¹é…åº¦ |
| **Agent Workflow** | æ ‡å‡†åŒ–æµç¨‹ | SDLC å·¥ä½œæµ |

### 3.3 å®ç°è·¯çº¿å›¾

```
Phase 1 (å·²å®Œæˆ):
â”œâ”€â”€ Plugin ç³»ç»Ÿ âœ…
â””â”€â”€ Manifest é…ç½® âœ…

Phase 2 (å€Ÿé‰´ AIOpsLab):
â”œâ”€â”€ Agent-Cloud Interface è®¾è®¡
â”œâ”€â”€ ç»Ÿä¸€ API å®šä¹‰
â”œâ”€â”€ Telemetry é›†æˆ (Prometheus/Jaeger)
â””â”€â”€ Problem/Task æ ‡å‡†åŒ–

Phase 3 (å€Ÿé‰´ mABC):
â”œâ”€â”€ å¤š Agent Voting æœºåˆ¶
â”œâ”€â”€ Contribution/Expertise Index
â”œâ”€â”€ Agent Workflow æ ‡å‡†åŒ–
â””â”€â”€ å†³ç­–å…±è¯†æœºåˆ¶

Phase 4 (è‡ªæ„ˆèƒ½åŠ›):
â”œâ”€â”€ Fault Detection
â”œâ”€â”€ Root Cause Analysis
â”œâ”€â”€ Auto Mitigation
â””â”€â”€ Self-Healing Loop
```

---

## å››ã€ä»£ç å®ç°å»ºè®®

### 4.1 Agent-Cloud Interface

```python
# src/agent_cloud_interface.py

class AgentCloudInterface:
    """ç»Ÿä¸€çš„ Agent-Cloud äº¤äº’æ¥å£"""
    
    # é¥æµ‹æ•°æ®
    def get_logs(self, namespace: str, duration: int = 5) -> str:
        """è·å–æ—¥å¿—æ•°æ®"""
        pass
    
    def get_metrics(self, namespace: str, query: str) -> dict:
        """è·å– Prometheus æŒ‡æ ‡"""
        pass
    
    def get_traces(self, namespace: str, duration: int = 5) -> str:
        """è·å– Jaeger é“¾è·¯è¿½è¸ª"""
        pass
    
    # æ‰§è¡Œæ“ä½œ
    def exec_shell(self, command: str, safe: bool = True) -> str:
        """æ‰§è¡Œ shell å‘½ä»¤ (å¸¦å®‰å…¨è¿‡æ»¤)"""
        pass
    
    def kubectl(self, args: list) -> str:
        """æ‰§è¡Œ kubectl å‘½ä»¤"""
        pass
```

### 4.2 Voting æœºåˆ¶

```python
# src/voting.py

class BlockchainVoting:
    """åŒºå—é“¾å¯å‘çš„æŠ•ç¥¨æœºåˆ¶"""
    
    def __init__(self, agents: list):
        self.agents = agents
        self.contribution_index = {}
        self.expertise_index = {}
    
    def calculate_weight(self, agent_id: str, task_type: str) -> float:
        """è®¡ç®—æŠ•ç¥¨æƒé‡"""
        alpha = 0.4  # è´¡çŒ®åº¦æƒé‡
        beta = 0.6   # ä¸“ä¸šåº¦æƒé‡
        
        contribution = self.contribution_index.get(agent_id, 0.5)
        expertise = self.expertise_index.get((agent_id, task_type), 0.5)
        
        return alpha * contribution + beta * expertise
    
    def vote(self, proposals: dict, task_type: str) -> str:
        """æ‰§è¡ŒæŠ•ç¥¨"""
        scores = {}
        for proposal_id, voters in proposals.items():
            score = sum(
                self.calculate_weight(agent, task_type) 
                for agent in voters
            )
            scores[proposal_id] = score
        
        return max(scores, key=scores.get)
```

### 4.3 Problem å®šä¹‰

```python
# src/problem.py

from dataclasses import dataclass
from enum import Enum

class TaskType(Enum):
    DETECTION = "detection"
    LOCALIZATION = "localization"
    ANALYSIS = "analysis"
    MITIGATION = "mitigation"

@dataclass
class Problem:
    """AIOps é—®é¢˜å®šä¹‰"""
    task: TaskType
    context: dict  # ç¯å¢ƒ + ä¿¡æ¯
    solution: str  # é¢„æœŸè§£å†³æ–¹æ¡ˆ
    
    def evaluate(self, agent_solution: str, duration: float) -> dict:
        """è¯„ä¼° Agent è§£å†³æ–¹æ¡ˆ"""
        return {
            "success": agent_solution == self.solution,
            "duration": duration,
            "task_type": self.task.value
        }
```

---

## äº”ã€æ€»ç»“

### æ ¸å¿ƒå€Ÿé‰´

1. **AIOpsLab**: 
   - Agent-Cloud Interface ç»Ÿä¸€äº¤äº’
   - Orchestrator ä¸­å¤®åè°ƒ
   - Problem æ ‡å‡†åŒ–å®šä¹‰
   - é¥æµ‹æ•°æ®é›†æˆ

2. **mABC**:
   - ä¸“ä¸š Agent åˆ†å·¥
   - åŒºå—é“¾æŠ•ç¥¨å‡å°‘å¹»è§‰
   - è´¡çŒ®åº¦ + ä¸“ä¸šåº¦æƒé‡
   - æ ‡å‡†åŒ–å·¥ä½œæµ

### å®æ–½ä¼˜å…ˆçº§

| ä¼˜å…ˆçº§ | åŠŸèƒ½ | æ¥æº |
|-------|------|------|
| P0 | Agent-Cloud Interface | AIOpsLab |
| P0 | Voting æœºåˆ¶ | mABC |
| P1 | Telemetry é›†æˆ | AIOpsLab |
| P1 | Agent Workflow | mABC |
| P2 | Problem æ ‡å‡†åŒ– | AIOpsLab |
| P2 | Index è®¡ç®— | mABC |

---

**åˆ†æå®Œæˆæ—¶é—´**: 2026-02-02
**åˆ†æäºº**: Reviewer (Worker2)
