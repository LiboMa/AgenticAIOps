# AgenticAIOps ç³»ç»Ÿæ¶æ„æ–‡æ¡£

> **Version**: 1.0  
> **Last Updated**: 2026-02-02  
> **Status**: Phase 4 Complete

---

## ğŸ“‹ ç›®å½•

1. [ç³»ç»Ÿæ¦‚è§ˆ](#ç³»ç»Ÿæ¦‚è§ˆ)
2. [æ ¸å¿ƒç»„ä»¶](#æ ¸å¿ƒç»„ä»¶)
3. [ACI (Agent-Cloud Interface)](#aci-agent-cloud-interface)
4. [Multi-Agent Voting (mABC)](#multi-agent-voting-mabc)
5. [æ•°æ®æµ](#æ•°æ®æµ)
6. [éƒ¨ç½²æ¶æ„](#éƒ¨ç½²æ¶æ„)
7. [å®‰å…¨æ¶æ„](#å®‰å…¨æ¶æ„)

---

## ç³»ç»Ÿæ¦‚è§ˆ

AgenticAIOps æ˜¯ä¸€ä¸ªåŸºäº AI Agent çš„æ™ºèƒ½è¿ç»´å¹³å°ï¼Œé›†æˆ AWS EKSã€EC2ã€Lambda ç­‰äº‘æœåŠ¡çš„è‡ªä¸»è¯Šæ–­ä¸è¿ç»´èƒ½åŠ›ã€‚

### è®¾è®¡ç†å¿µ

- **AIOpsLab Framework**: åŸºäºå¾®è½¯ç ”ç©¶é™¢ AIOpsLab è®ºæ–‡çš„ P=âŸ¨T,C,SâŸ© é—®é¢˜å®šä¹‰æ¡†æ¶
- **mABC Voting**: åŸºäºåŒºå—é“¾å¯å‘çš„å¤š Agent åŠ æƒæŠ•ç¥¨æœºåˆ¶
- **MCP Protocol**: åˆ©ç”¨ AWS å®˜æ–¹ Model Context Protocol æœåŠ¡å™¨

### ç³»ç»Ÿæ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    AgenticAIOps Architecture                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   React         â”‚     â”‚   FastAPI       â”‚     â”‚  Strands  â”‚ â”‚
â”‚  â”‚   Dashboard     â”‚â”€â”€â”€â”€â–¶â”‚   Backend       â”‚â”€â”€â”€â”€â–¶â”‚   Agent   â”‚ â”‚
â”‚  â”‚   (Vite+MUI)    â”‚     â”‚   (uvicorn)     â”‚     â”‚ (Bedrock) â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚        :5173                   :8000                   â”‚        â”‚
â”‚                                                        â”‚        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚              ACI (Agent-Cloud Interface)                     â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚
â”‚  â”‚  â”‚  get_logs() â”‚ get_events() â”‚ get_metrics() â”‚ kubectl()  â”‚â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                              â”‚                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                    Plugin System                            â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚â”‚
â”‚  â”‚  â”‚   EKS   â”‚  â”‚   EC2   â”‚  â”‚  Lambda  â”‚  â”‚   HPC   â”‚      â”‚â”‚
â”‚  â”‚  â”‚   â˜¸ï¸    â”‚  â”‚   ğŸ–¥ï¸    â”‚  â”‚    Î»     â”‚  â”‚   ğŸ–§    â”‚      â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                              â”‚                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚              Multi-Agent Voting (mABC)                      â”‚â”‚
â”‚  â”‚          Weight = Î±Ã—Contribution + Î²Ã—Expertise              â”‚â”‚
â”‚  â”‚                  (Î±=0.4, Î²=0.6)                             â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                              â”‚                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                 Infrastructure Layer                        â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚â”‚
â”‚  â”‚  â”‚ EKS MCP      â”‚  â”‚  Prometheus  â”‚  â”‚   Grafana    â”‚     â”‚â”‚
â”‚  â”‚  â”‚ (16 tools)   â”‚  â”‚              â”‚  â”‚              â”‚     â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## æ ¸å¿ƒç»„ä»¶

### 1. å‰ç«¯ (React Dashboard)

| è·¯å¾„ | æè¿° |
|------|------|
| `dashboard/src/App.jsx` | ä¸»åº”ç”¨å…¥å£ |
| `dashboard/src/components/ChatPanel.jsx` | Agent å¯¹è¯é¢æ¿ |
| `dashboard/src/components/EKSStatus.jsx` | é›†ç¾¤çŠ¶æ€å±•ç¤º |
| `dashboard/src/components/ACITelemetry.jsx` | ACI é¥æµ‹æ•°æ®å±•ç¤º |
| `dashboard/src/components/Anomalies.jsx` | å‘Šè­¦å±•ç¤º |

### 2. åç«¯ (FastAPI)

| è·¯å¾„ | æè¿° |
|------|------|
| `api_server.py` | FastAPI ä¸»æœåŠ¡ |
| `/api/chat` | Agent å¯¹è¯æ¥å£ |
| `/api/aci/*` | ACI æ•°æ®æ¥å£ |
| `/api/plugins` | æ’ä»¶ç®¡ç†æ¥å£ |
| `/api/clusters` | é›†ç¾¤ç®¡ç†æ¥å£ |

### 3. AI Agent (Strands SDK)

| è·¯å¾„ | æè¿° |
|------|------|
| `mcp_agent.py` | Strands Agent + MCP |
| `src/intent_classifier.py` | æ„å›¾åˆ†ç±»å™¨ |

---

## ACI (Agent-Cloud Interface)

ACI æ˜¯ Agent ä¸äº‘ç¯å¢ƒäº¤äº’çš„ç»Ÿä¸€æ¥å£å±‚ã€‚

### æ¨¡å—ç»“æ„

```
src/aci/
â”œâ”€â”€ __init__.py          # å¯¼å‡º AgentCloudInterface
â”œâ”€â”€ interface.py         # ä¸»æ¥å£ç±»
â”œâ”€â”€ models.py            # æ•°æ®æ¨¡å‹ (TelemetryResult, OperationResult)
â”œâ”€â”€ mcp_bridge.py        # MCP Server æ¡¥æ¥
â”œâ”€â”€ telemetry/
â”‚   â”œâ”€â”€ logs.py          # æ—¥å¿—è·å–
â”‚   â”œâ”€â”€ events.py        # äº‹ä»¶è·å–
â”‚   â”œâ”€â”€ metrics.py       # æŒ‡æ ‡è·å–
â”‚   â””â”€â”€ prometheus.py    # Prometheus æŸ¥è¯¢
â”œâ”€â”€ operations/
â”‚   â”œâ”€â”€ kubectl.py       # kubectl æ‰§è¡Œå™¨
â”‚   â””â”€â”€ shell.py         # Shell æ‰§è¡Œå™¨
â”œâ”€â”€ security/
â”‚   â”œâ”€â”€ filters.py       # å‘½ä»¤å®‰å…¨è¿‡æ»¤
â”‚   â””â”€â”€ audit.py         # å®¡è®¡æ—¥å¿—
â””â”€â”€ context/
    â””â”€â”€ __init__.py      # ä¸Šä¸‹æ–‡ (æ‹“æ‰‘/ä¾èµ–)
```

### API æ¦‚è§ˆ

| æ–¹æ³• | æè¿° | æ•°æ®æº |
|------|------|--------|
| `get_logs()` | è·å– Pod æ—¥å¿— | kubectl / CloudWatch |
| `get_events()` | è·å– K8s äº‹ä»¶ | kubectl |
| `get_metrics()` | è·å–æŒ‡æ ‡ | Prometheus / CloudWatch |
| `kubectl()` | æ‰§è¡Œ kubectl | kubectl CLI |
| `exec_shell()` | æ‰§è¡Œ Shell | Shell (å—é™) |

### ä½¿ç”¨ç¤ºä¾‹

```python
from src.aci import AgentCloudInterface

aci = AgentCloudInterface(
    cluster_name="testing-cluster",
    region="ap-southeast-1"
)

# è·å–é”™è¯¯æ—¥å¿—
logs = aci.get_logs(
    namespace="default",
    severity="error",
    duration_minutes=30
)

# è·å–è­¦å‘Šäº‹ä»¶
events = aci.get_events(
    namespace="stress-test",
    event_type="Warning"
)

# è·å– CPU æŒ‡æ ‡
metrics = aci.get_metrics(
    namespace="default",
    metric_names=["cpu_usage", "memory_usage"]
)
```

---

## Multi-Agent Voting (mABC)

åŸºäº mABC è®ºæ–‡å®ç°çš„åŠ æƒæŠ•ç¥¨æœºåˆ¶ï¼Œå‡å°‘ LLM å¹»è§‰ã€‚

### æ ¸å¿ƒå…¬å¼

```
Weight = Î± Ã— Contribution + Î² Ã— Expertise

å…¶ä¸­:
- Î± = 0.4 (è´¡çŒ®åº¦æƒé‡)
- Î² = 0.6 (ä¸“ä¸šåº¦æƒé‡)
- Contribution: å†å²è´¡çŒ®åº¦ (0.1 - 1.0)
- Expertise: ä»»åŠ¡é¢†åŸŸä¸“ä¸šåº¦ (0.0 - 1.0)
```

### Agent è§’è‰²

| è§’è‰² | ä¸“é•¿é¢†åŸŸ |
|------|----------|
| Orchestrator | åè°ƒã€æµç¨‹ |
| Architect | è®¾è®¡ã€æ¶æ„ |
| Developer | å®ç°ã€ä»£ç  |
| Tester | æµ‹è¯•ã€éªŒè¯ |
| Reviewer | è¯„å®¡ã€è´¨é‡ |

### ä½¿ç”¨ç¤ºä¾‹

```python
from src.voting import MultiAgentVoting, TaskType

voting = MultiAgentVoting()

result = voting.vote(
    task_type=TaskType.ANALYSIS,
    query="æ ¹å› åˆ†æ",
    agent_responses={
        "architect": "OOM å¯¼è‡´å´©æºƒ",
        "developer": "å†…å­˜æº¢å‡ºé—®é¢˜",
        "tester": "ç¡®è®¤ OOM å¤ç°"
    }
)

print(f"è¯Šæ–­: {result.final_answer}")
print(f"å…±è¯†: {result.consensus}")
print(f"ç½®ä¿¡åº¦: {result.agreement_ratio:.0%}")
```

### å…±è¯†æ£€æµ‹

```python
consensus = agreement_ratio >= 0.66  # 66% é˜ˆå€¼
```

---

## æ•°æ®æµ

### è¯Šæ–­æµç¨‹

```
ç”¨æˆ·è¯·æ±‚
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Intent Classify â”‚  â† æ„å›¾è¯†åˆ«
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ACI Telemetry   â”‚  â† æ•°æ®æ”¶é›†
â”‚  - get_events()  â”‚
â”‚  - get_logs()    â”‚
â”‚  - get_metrics() â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Multi-Agent     â”‚  â† å¤š Agent åˆ†æ
â”‚  Analysis        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Voting (mABC)   â”‚  â† åŠ æƒæŠ•ç¥¨
â”‚  Weight = Î±Ã—C+Î²Ã—Eâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Final Diagnosis â”‚  â† è¯Šæ–­ç»“è®º
â”‚  + Recommendationâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## éƒ¨ç½²æ¶æ„

### ç»„ä»¶ç«¯å£

| ç»„ä»¶ | ç«¯å£ | åè®® |
|------|------|------|
| FastAPI Backend | 8000 | HTTP |
| React Dashboard | 5173 | HTTP |
| Grafana | 3000 | HTTP |
| Prometheus | 9090 | HTTP |
| EKS MCP Server | (internal) | stdio |

### ç¯å¢ƒå˜é‡

| å˜é‡ | æè¿° | é»˜è®¤å€¼ |
|------|------|--------|
| `AGENT_MODEL` | Bedrock æ¨¡å‹ | haiku |
| `AWS_REGION` | AWS åŒºåŸŸ | ap-southeast-1 |
| `VITE_API_URL` | åç«¯ URL | http://localhost:8000 |
| `PROMETHEUS_URL` | Prometheus | http://localhost:9090 |

---

## å®‰å…¨æ¶æ„

### å‘½ä»¤è¿‡æ»¤

ACI å†…ç½®å®‰å…¨è¿‡æ»¤å™¨ï¼Œé˜»æ­¢å±é™©æ“ä½œï¼š

```python
# è¢«é˜»æ­¢çš„ kubectl å‘½ä»¤
BLOCKED_KUBECTL = [
    "delete namespace",
    "delete all",
    "exec",
    "--privileged",
]

# è¢«é˜»æ­¢çš„ Shell å‘½ä»¤
BLOCKED_SHELL = [
    "rm -rf",
    "dd if=",
    "> /dev/",
    "chmod 777",
]
```

### å®¡è®¡æ—¥å¿—

æ‰€æœ‰æ“ä½œè®°å½•å®¡è®¡æ—¥å¿—ï¼š

```
2026-02-02 14:30:00 | kubectl | get pods -n default | SUCCESS | cluster=testing
2026-02-02 14:30:05 | kubectl | delete namespace prod | BLOCKED | cluster=testing
```

---

## å‚è€ƒæ–‡æ¡£

- [ACI_DESIGN.md](designs/ACI_DESIGN.md) - ACI è¯¦ç»†è®¾è®¡
- [VOTING_DESIGN.md](designs/VOTING_DESIGN.md) - Voting è¯¦ç»†è®¾è®¡
- [PHASE4_SCENARIOS.md](designs/PHASE4_SCENARIOS.md) - æ•…éšœæ³¨å…¥åœºæ™¯
- [MULTI_CLUSTER_DESIGN.md](designs/MULTI_CLUSTER_DESIGN.md) - å¤šé›†ç¾¤è®¾è®¡ (Phase 5)

---

**Â© 2026 AgenticAIOps Team**
